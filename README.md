## Сдача проектной работы 1. Деление Mesto на микрофронтенды

### <b>Деление</b>
Проект разделен с помощью Module federation на 4 микрофронтенда:
* host - является shell модулем, содержит общий шаблон страницы и связывает данные между модулями;
* auth - является remote модулем, отвечающим за авторизацию, регистрацию пользователя (окно signin, signup);
* card - является remote модулем, отвечающим за фронтенд-компоненты, связанные с функциональностью "мест";
* profile - является remote модулем, отвечающим за фронтенд-компоненты, связанные с редактированием и просмотром профиля.

### <b>Маршрутизация</b>

Маршрутизация оставлена в едином App компоненте для простоты конфигурации и наглядности

### <b>Зависимости проекта</b>

Зависимости (при необходимости и их версии) указываются в "shared" конфигурации каджого модуля (webpack)

### <b>Связь данных</b>

Главный компонент обеспечивает данными каждый модуль путем прямой передачи в компонент.
Общим является контекст пользователя. Его хотел передавать с помощью eventBus, но сразу не получилось..
(При авторизации пользователя auth модуль кидает событие о новом пользователе. Микрофронтенд profile это событие подхватывает и обновляет аватар)
Контекст пользователя используется через общий контекст, предоставляемым shell-модулем (конфигурация "shared" в webpack.config.js)

## Сдача проектной работы 2. Деление бекенда на микросервисы
(файл task2.xml.drawio в корне проекта)

### <b>Деление</b>
Для выделения компонентов монолитного приложения, которые должны быть извлечены, использовались все три техники. (описанные в спринте)
1. Анализ домена бизнеса, Domain-Driven Design    
В рамках такого деления были выделены следующие компоненты-микросервисы (каждый имеет свою рел бд):    
 1.1 <b>Биллинг</b> - сервис, отвечающий за работу с платежами     
 1.2 <b>Заказы</b> - сервис, который создает и хранит заказы    
 1.3 <b>Товары</b> - сервис, который инкапсулирует работу с товарами    
 1.4 <b>Услуги</b> - сервис услуг    
 1.5 <b>Аукцион</b>    
 1.6 <b>Техподдержка</b>    
 1.7 <b>Апелляция</b>    
2. Технический анализ
В рамках технического анализа был выделен отдельный кросс-доменный компонент, который отвечает за доставку уведомлений (по каждому из доменов) до пользователя    
   2.1 <b>Нотификатор</b>
3. Анализ производительности    
В рамках данного анализа была реализована возможность получать статистику по заказам и генерировать различные отчеты    
    3.1 <b>Аггрегатор</b> - компонент-микросервис, который собирает данные с различных сервисов по событию с databus. Далее приводит эту информацию в тот вид, в котором потребуется отдать клиенту. Используется нерел бд

### <b>Общие компоненты</b>
* Для асинхронной работы микросервисов добавлена шина данных <b>Databus</b>. 
* Для работы с валидацией, роутингом запросов, ограничением трафика и тд добавлен <b>API Gateway</b>. Также API Gateway играет роль API Composition.

### <b>Потоки</b>
1. Продавец: <b>Создать услугу/товар</b>, <b>редактировать услугу/товар</b>, <b>разместить услугу/товар</b>    
Эти сценарии объединены в один поток, так как работают по схожему принципу. 
Взаймодействуя с интерфейсом товаров/услуг, пользователь отправляет запрос в API Gateway. Далее API Gateway авторизует пользователя, обогащает контекст запроса его id, ролью. Затем запрос идет непосредственно в микросервисы Товары/Услуги.
2. Покупатель: <b>Заказать услугу/товар</b>
Взаймодействуя с интерфейсом товаров/услуг, покупатель отправляет запрос в API Gateway. API Gateway также идентифицировав пользователя отправляет запрос в Товары/Услуги. Затем с соотв информацией (id товара, цена..) запрос отправляется в сервис Заказы. Для создания заказа сервис инициирует платеж через сервис Биллинг. Биллинг используется внешние сервисы и затем асинхронно сообщает об успешной операции сервису Заказы. Заказ с этого времени считается оформленным
3. Продавец: <b>Создать аукцион на услугу/товар</b>
Запрос отправляется через API Gateway в сервисы Товары/Услуги и Аукцион
4. Покупатель: <b>Добавить ставку в аукционе на услугу/товар</b>
Запрос отправляется через API Gateway в сервисы Товары/Услуги и Аукцион
5. Покупатель/Продавец: <b>Создать обращение в техподдержку</b>
Запрос отправляется через API Gateway в сервис Техподдержки
6. Администратор: <b>Валидировать заявку на аукцион</b>
Для админки используется отдельный <b>Backoffice Frontend</b>. С него запрос уходит через API Gateway в сервис аукциона
7. Специалист поддержки: <b>Изменить статус заявки на поддержку</b>
Запрос уходит через API Gateway в сервис работы техподдержки.

P.S. компоненты и потоки на схеме не обозначал красным, потому что они все являются новыми


